<!DOCTYPE html>
<html>
<head> 
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title></title>
	<link rel="stylesheet" type="text/css" href="styles/ruleta.css">
</head> 
<body>
	<div id="pyro" class="pyro" style="position: absolute;">
  		<div class="before"></div> 
  		<div class="after"></div> 
	</div> 
	<div class="ruleta-container">
		<div class="item ruleta">
			<img id="img" src="ruleta2.png" alt="" usemap="#map" height="100"/>
				<map name="map">
					<area id="verde" shape="poly" class="zone" onclick="console_color('verde')" coords="247, 258, 1, 867, 128, 865, 344, 342" />
					<area shape="poly" class="zone" onclick="console_color('azul oscuro')" coords="128, 866, 342, 1386, 243, 1467, 2, 868" />
					<area shape="poly" class="zone" onclick="console_color('azul claro')" coords="864, 1602, 343, 1386, 244, 1467, 864, 1729" />
					<area shape="poly" class="zone" onclick="console_color('verde-azul')" coords="865, 1603, 865, 1728, 1481, 1473, 1387, 1385" />
					<area shape="poly" class="zone" onclick="console_color('blanco')" coords="1604, 866, 1388, 1386, 1482, 1473, 1728, 864" />
					<area id="naranja" shape="poly" class="zone" onclick="console_color('nranaja')" coords="1387, 343, 1603, 864, 1729, 865, 1477, 252" />
					<area shape="poly" class="zone" onclick="console_color('rojo')" coords="864, 128, 1388, 343, 1477, 253, 865, 3" />
					<area shape="poly" class="zone" onclick="console_color('morado')" coords="344, 343, 248, 259, 865, 3, 865, 128" />
				</map>
			<i id="flecha-mobile" class="fa-solid fa-caret-left"></i>
			<img id="flecha" onclick="console.log('no me toques D:')" src="img/left-arrow.png" alt="flecha-izquierda">
		</div>
		<div class="item logo">
			<img src="img/CV_Claro_tendero_LOGO.png"/>
		</div>
		<div class="item palanca">
			<div class="rotate-border">
				<button class="spin-btn" onClick="myFunction()"></button>
			</div>
		</div>
	</div> 

	<script src="https://kit.fontawesome.com/15bc5276a1.js" crossorigin="anonymous"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script type="text/javascript" src="js/image-map-resizer/imageMapResizer.min.js"></script>
	<script type="text/javascript">
		fireworks = document.getElementById('pyro');
		let flecha = document.getElementById('flecha');
		let verde = document.getElementById('verde');
		let naranja = document.getElementById('naranja');

		function myFunction(){
			let x = 1024; //min value
			let y = 9999; //max value

			let deg = Math.floor(Math.random() * (x - y)) + y;
			document.getElementById('img').style.transform = `rotate(${deg}deg)`;

			setTimeout(function(){
				fireworks.style.display = "block"
				check_seleccion();
			}, 3000); 
		}

		function check_seleccion() {
			let coords = flecha.getBoundingClientRect();
			document.elementFromPoint((coords.x)-15, (coords.y+60)).click();
			console.log((coords.x)-15, (coords.y+60));
		}

		function console_color (color){
            alert(color);
        }

		imageMapResize();
	</script> 
</body>
</html>